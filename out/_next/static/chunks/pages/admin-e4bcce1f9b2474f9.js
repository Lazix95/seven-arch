(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[964],{8364:function(e,n,t){"use strict";var a=t(4836);n.Z=void 0;var i=a(t(4938)),r=t(5893),l=(0,i.default)((0,r.jsx)("path",{d:"M6 19c0 1.1.9 2 2 2h8c1.1 0 2-.9 2-2V7H6v12zm2.46-7.12 1.41-1.41L12 12.59l2.12-2.12 1.41 1.41L13.41 14l2.12 2.12-1.41 1.41L12 15.41l-2.12 2.12-1.41-1.41L10.59 14l-2.13-2.12zM15.5 4l-1-1h-5l-1 1H5v2h14V4z"}),"DeleteForever");n.Z=l},4830:function(e,n,t){(window.__NEXT_P=window.__NEXT_P||[]).push(["/admin",function(){return t(7197)}])},4349:function(e,n,t){"use strict";t.d(n,{c:function(){return r}});var a=t(5893),i=t(5861);function r(e){let{level:n,text:t,children:r,color:l="text.primary",...o}=e;return(0,a.jsx)(i.Z,{variant:"h".concat(n),color:l,...o,children:r||t})}},5922:function(e,n,t){"use strict";t.d(n,{t:function(){return g}});var a=t(5893),i=t(7294),r=t(7258),l=t.n(r),o=t(6886),u=t(7091);let s=e=>new Promise((n,t)=>{let a=new FileReader;a.onloadend=()=>{n(a.result)},a.onerror=t,a.readAsDataURL(e)});function c(){return(0,a.jsx)("div",{style:{width:"100%"}})}var d=t(3321);function f(e){let{label:n="Upload",onChange:t}=e;async function i(e){var n;let a=null===(n=e.target.files)||void 0===n?void 0:n[0];if(a){let e=await s(a);return null==t?void 0:t(a,e)}}return(0,a.jsxs)(d.Z,{variant:"outlined",component:"label",children:[(0,a.jsx)("span",{children:n}),(0,a.jsx)("input",{onChange:i,type:"file",hidden:!0})]})}var m=t(6093),h=t(8364),p=t(6345);let g=e=>{let{onChange:n,previewUrl:t,name:r,label:d,noPreview:g}=e,[v,x]=(0,i.useState)(null);(0,i.useEffect)(()=>{x(null!=t?t:null)},[t]);let y=async e=>{var t;e.preventDefault();let a=null===(t=e.dataTransfer)||void 0===t?void 0:t.files[0];null==n||n(null!=r?r:"",a),g||x(await s(a))};async function j(e,t){null==n||n(null!=r?r:"",e),g||x(t)}return(0,a.jsx)(m.q,{style:{aspectRatio:"16/9",width:"100%",height:"100%",marginBottom:"20px"},centerText:!0,label:d,children:(0,a.jsx)("div",{className:l().dropzone,children:(0,a.jsx)("div",{onDrop:y,onDragOver:e=>{e.preventDefault()},onDragLeave:e=>{e.preventDefault()},style:{aspectRatio:"16/9",width:"100%",height:"100%"},children:(0,a.jsx)(o.ZP,{style:{height:"100%"},container:!0,alignContent:"center",children:(0,a.jsxs)(o.ZP,{style:{height:v?"100%":"auto"},item:!0,xs:12,children:[(0,a.jsxs)(u.A,{RIf:!!v,children:[(0,a.jsx)("img",{src:v,alt:"Uploaded",className:l().image}),(0,a.jsx)("div",{className:l().overlay,children:(0,a.jsx)(p.g,{onClick:()=>{x(null)},btnType:"Icon",children:(0,a.jsx)(h.Z,{style:{fontSize:"30px"}})})})]}),(0,a.jsxs)(u.A,{RIf:!v,children:[(0,a.jsx)("span",{children:"Drag and drop an image here"}),(0,a.jsx)(c,{}),(0,a.jsx)("span",{children:"or"}),(0,a.jsx)(c,{}),(0,a.jsx)(f,{onChange:j})]})]})})})})})}},5429:function(e,n,t){"use strict";t.d(n,{L:function(){return c}});var a=t(5893),i=t(7294),r=t(7690),l=t(7091),o=t(6886),u=t(8456);function s(){return(0,a.jsx)("div",{style:{width:"100%",height:"100%",display:"flex",flex:"auto",flexDirection:"column",justifyContent:"center"},children:(0,a.jsx)(o.ZP,{alignSelf:"center",item:!0,children:(0,a.jsx)(u.Z,{})})})}function c(e){let{children:n,validation:t=!0,grid:o=!0,isLoading:u,spacing:c=3,onSubmit:d}=e,f=(0,i.useRef)(null);return u?(0,a.jsx)(s,{}):(0,a.jsx)("form",{ref:f,onSubmit:function(e){e.preventDefault(),(!t||!f.current||f.current.checkValidity())&&(new FormData(e.currentTarget),null==d||d())},children:(0,a.jsx)(l.A,{RIf:o,Fallback:()=>(0,a.jsx)(a.Fragment,{children:n}),children:(0,a.jsx)(r.e,{style:{width:"100%"},centerX:!0,column:!0,spacing:c,mt:0,mb:5,children:n})})})}},6093:function(e,n,t){"use strict";t.d(n,{q:function(){return u}});var a=t(5893),i=t(3758),r=t(7294),l=t(1362);let o=r.forwardRef((e,n)=>(0,a.jsx)("div",{...e,ref:n})),u=e=>{let{children:n,label:t,...r}=e;return(0,a.jsx)(l.z,{centerText:!0,...r,children:(0,a.jsx)(i.Z,{fullWidth:!0,variant:"outlined",label:t,multiline:!0,InputLabelProps:{component:"span",shrink:!0},InputProps:{inputComponent:o},inputProps:{children:n}})})}},5911:function(e,n,t){"use strict";t.d(n,{C:function(){return r}});var a=t(7294);function i(e,n){switch(n.type){case"SET_DATA":return{...n.payload};case"UPDATE_DATA":return{...e,...n.payload};case"CLEAR":return{};case"ADD_TO_ARRAY":var t;let a=n.payload.key,i=null===(t=n.payload)||void 0===t?void 0:t.item,r=e[a];return{...e,[a]:[...r,i]};case"DELETE_ITEM_FROM_ARRAY":let l=n.payload.key,o=n.payload.idKey,u=n.payload.idValue,s=e[l].filter(e=>e[o]!==u);return{...e,[l]:s};default:return{...e}}}function r(e){let n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],[t,r]=(0,a.useReducer)(i,e),[l,o]=(0,a.useState)(!1);function u(e){r({type:"SET_DATA",payload:e})}return(0,a.useEffect)(()=>{async function e(){try{o(!0);let e=n.map(e=>e());await new Promise(e=>setInterval(e,4e3));let t=await Promise.all(e),a=t.reduce((e,n)=>({...e,...n}),{});u(a)}finally{o(!1)}}n&&n.length>0&&e()},[]),{state:t,initialLoading:l,setState:u,updateState:function(e){r({type:"UPDATE_DATA",payload:e})},clearState:function(){r({type:"CLEAR"})},addToArrayInState:function(e,n){r({type:"ADD_TO_ARRAY",payload:{key:e,item:n}})},deleteFromArrayInState:function(e,n,t){r({type:"DELETE_ITEM_FROM_ARRAY",payload:{key:e,idKey:n,idValue:t}})}}}},7197:function(e,n,t){"use strict";t.r(n),t.d(n,{__N_SSG:function(){return j},default:function(){return _}});var a=t(5893),i=t(7294),r=t(6345),l=t(4349),o=t(5922),u=t(5429),s=t(1362),c=t(9610);function d(e){return(0,a.jsx)(s.z,{xs:6,md:4,lg:3,children:(0,a.jsx)(c.v,{...e})})}let f={data:{companyName:""},images:{loadingScreenImage:null}};function m(e){var n;let{onSubmit:t,data:c,images:m,isSubmitLoading:h,initialLoading:p}=e,[g,v]=(0,i.useState)(f);return(0,i.useEffect)(()=>{c&&!h&&v({data:c,images:{}})},[c,h]),(0,a.jsxs)(u.L,{isLoading:p,onSubmit:function(){let{images:e,data:n}=g;t({images:e,data:n})},children:[(0,a.jsx)(s.z,{centerText:!0,children:(0,a.jsx)(l.c,{level:4,children:" Basic Info "})}),(0,a.jsx)(d,{required:!0,name:"companyName",label:"Company Name",value:g.data.companyName,onChange:function(e){let n=e.target.name,t=e.target.value;v(e=>({...e,data:{...e.data,[n]:t}}))}}),(0,a.jsx)(o.t,{label:"Splash Screen Image",name:"loadingScreenImage",previewUrl:null==m?void 0:null===(n=m.loadingScreenImage)||void 0===n?void 0:n.url,onChange:function(e,n){v(t=>({...t,images:{...t.images,[e]:n}}))}}),(0,a.jsx)(s.z,{children:(0,a.jsx)(r.g,{fullWidth:!0,btnType:"LoadingButton",loading:h,type:"submit",children:"Save"})})]})}var h=t(5911),p=t(3619),g=t(8328),v=t(2087),x=t(9658),y=t(5252);(0,p.M)([g.T]);var j=!0,_=function(e){let{basicInfo:n,basicInfoImages:t}=e,{updateState:i,state:r,initialLoading:l}=(0,h.C)({isSubmitLoading:!1,basicInfo:n,basicInfoImages:t},[g.T]);async function o(e){let n=t;try{if(i({isSubmitLoading:!0}),e.images){let t=await (0,x.S$)({images:e.images,folder:"general"});n=(0,v.Z)(n,t)}let t=await (0,y.y6)("general","basicInfo",e.data);i({basicInfoImages:n,basicInfo:t})}finally{i({isSubmitLoading:!1})}}return(0,a.jsx)(m,{initialLoading:l,isSubmitLoading:r.isSubmitLoading,onSubmit:o,images:{...r.basicInfoImages},data:{...r.basicInfo}})}},2087:function(e,n,t){"use strict";function a(e,n){return Object.keys(n).reduce((e,t)=>({...e,[t]:n[t]}),{...e})}function i(e,n){return e.reduce((e,t)=>({...e,[t[n]]:t}),{})}t.d(n,{F:function(){return i},Z:function(){return a}})},7258:function(e){e.exports={overlay:"SharedImageUpload_overlay__BkReM",dropzone:"SharedImageUpload_dropzone__HCM79",image:"SharedImageUpload_image__lMATb"}}},function(e){e.O(0,[774,888,179],function(){return e(e.s=4830)}),_N_E=e.O()}]);