(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[405],{8312:function(e,t,n){(window.__NEXT_P=window.__NEXT_P||[]).push(["/",function(){return n(6305)}])},1651:function(e,t,n){"use strict";n.d(t,{K4:function(){return o},WJ:function(){return l},Zt:function(){return a},Zx:function(){return c}});var i=n(9261),r=n(9658);async function a(){let e=await (0,i.uc)("articles");return{articles:e}}async function l(e){let t="article-".concat(e);return await (0,i.PP)("articles",t)}async function c(e){let{image:t,subArticles:n,...a}=e,l="article-".concat(e.entity),c=t?await (0,r.r3)({image:t,folder:"articles",name:l}):void 0;return await (0,i.yh)({entity:"articles",payload:{...a,image:c},id:l})}async function o(e){let t;let{image:n,subArticles:a,...l}=e,c=[];return a&&(c=await Promise.all(a.map(async e=>{var t,n;if(e.image&&e.image instanceof File){let n=null!==(t=await (0,r.r3)({image:e.image,folder:"articles",name:e.id}))&&void 0!==t?t:void 0;return{...e,image:n}}return{...e,image:null!==(n=e.image)&&void 0!==n?n:null}}))),n&&(t=await (0,r.r3)({image:n,folder:"articles",name:e.id})),await (0,i.wI)({entity:"articles",payload:{...l,...n&&{image:t},subArticles:c},id:e.id})}},5601:function(e,t,n){"use strict";n.d(t,{p:function(){return r}});var i=n(9658);async function r(){let e=await (0,i.SX)({folder:"sliderImages"});return{sliderImages:e}}},2837:function(e,t,n){"use strict";n.d(t,{Z:function(){return u}});var i=n(5893),r=n(5675),a=n.n(r),l=n(5073),c=n.n(l),o=n(5861),s=n(7091);function u(e){var t,n,r,l,u,d;let{image:h,text:m,type:_="img",alt:f,url:g,noZoom:x,imageProps:v,onClick:p}=e;return(0,i.jsx)(s.A,{RIf:!!h||!!g,children:(0,i.jsxs)("div",{className:"".concat(c().SharedContentImage," ").concat(c().SharedContentImage_container," ").concat(c().SharedContentImage_fullSize," ").concat(x?"":"u-mouse-pointer"),style:{aspectRatio:"16/9"},onClick:p,children:[(0,i.jsxs)(s.A,{RIf:!!m,children:[(0,i.jsx)("div",{className:c().SharedContentImage_overlay}),(0,i.jsx)(o.Z,{variant:"subtitle1",className:c().SharedContentImage_text,children:m})]}),(0,i.jsx)(s.A,{RIf:"img"===_,children:(0,i.jsx)(a(),{className:"".concat(c().SharedContentImage_fullSize," ").concat(x?"":c()["SharedContentImage__image-zoom"]),style:{objectFit:"cover",aspectRatio:"16/9"},width:1e3,height:1e3,src:null!==(n=null!==(t=null==h?void 0:h.url)&&void 0!==t?t:g)&&void 0!==n?n:"",alt:null!=f?f:""})}),(0,i.jsx)(s.A,{RIf:"div"===_,children:(0,i.jsx)("div",{className:"".concat(c().SharedContentImage_fullSize," ").concat(c()["SharedContentImage__image-div"]," ").concat(x?"":c()["SharedContentImage__image-zoom"]," ").concat(null!==(r=null==v?void 0:v.className)&&void 0!==r?r:""),style:{backgroundImage:"url('".concat(null!==(u=null!==(l=null==h?void 0:h.url)&&void 0!==l?l:g)&&void 0!==u?u:"","')"),...null!==(d=null==v?void 0:v.style)&&void 0!==d?d:{}}})})]})})}},7641:function(e,t,n){"use strict";n.d(t,{k:function(){return i.Z}});var i=n(2837)},4349:function(e,t,n){"use strict";n.d(t,{c:function(){return a}});var i=n(5893),r=n(5861);function a(e){let{level:t,text:n,children:a,color:l="text.primary",...c}=e;return(0,i.jsx)(r.Z,{variant:"h".concat(t),color:l,...c,children:a||n})}},5911:function(e,t,n){"use strict";n.d(t,{C:function(){return a}});var i=n(7294);function r(e,t){switch(t.type){case"SET_DATA":return{...t.payload};case"UPDATE_DATA":return{...e,...t.payload};case"CLEAR":return{};case"ADD_TO_ARRAY":var n;let i=t.payload.key,r=null===(n=t.payload)||void 0===n?void 0:n.item,a=e[i];return{...e,[i]:[...a,r]};case"DELETE_ITEM_FROM_ARRAY":let l=t.payload.key,c=t.payload.idKey,o=t.payload.idValue,s=e[l].filter(e=>e[c]!==o);return{...e,[l]:s};default:return{...e}}}function a(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],[n,a]=(0,i.useReducer)(r,e),[l,c]=(0,i.useState)(!1);function o(e){a({type:"SET_DATA",payload:e})}return(0,i.useEffect)(()=>{async function e(){try{c(!0);let e=t.map(e=>e());await new Promise(e=>setInterval(e,4e3));let n=await Promise.all(e),i=n.reduce((e,t)=>({...e,...t}),{});o(i)}finally{c(!1)}}t&&t.length>0&&e()},[]),{state:n,initialLoading:l,setState:o,updateState:function(e){a({type:"UPDATE_DATA",payload:e})},clearState:function(){a({type:"CLEAR"})},addToArrayInState:function(e,t){a({type:"ADD_TO_ARRAY",payload:{key:e,item:t}})},deleteFromArrayInState:function(e,t,n){a({type:"DELETE_ITEM_FROM_ARRAY",payload:{key:e,idKey:t,idValue:n}})}}}},6305:function(e,t,n){"use strict";n.r(t),n.d(t,{__N_SSG:function(){return P},default:function(){return F}});var i=n(5893),r=n(2837),a=n(7690),l=n(1362),c=n(4349),o=n(7294),s=n(7091),u=n(456),d=n(5275),h=n.n(d),m=n(5861),_=n(9225),f=n(9610);function g(e){let{text:t,btnText:n,onSubscribe:r,containerProps:c}=e,[s,u]=(0,o.useState)("");return(0,i.jsx)(a.e,{centerX:!1,centerY:!1,sx:{backgroundColor:"#333",height:"100%",width:"100%",margin:0,padding:"24px"},...c,children:(0,i.jsxs)(a.e,{spacing:0,sx:{margin:"auto auto auto auto"},children:[(0,i.jsx)(l.z,{mb:2,xs:12,children:(0,i.jsx)(m.Z,{fontWeight:500,color:"white",children:t})}),(0,i.jsx)(l.z,{xs:12,children:(0,i.jsx)(f.v,{label:"Email",onChange:e=>u(e.target.value)})}),(0,i.jsx)(l.z,{xs:12,children:(0,i.jsx)(_.g,{onClick:function(){null==r||r(s)},fullWidth:!0,children:n})})]})})}function x(e){let{text:t}=e;return(0,i.jsx)(a.e,{centerX:!1,centerY:!1,sx:{backgroundColor:"#333",height:"100%",width:"100%",margin:0,padding:"24px"},children:(0,i.jsx)(a.e,{spacing:0,sx:{margin:"auto auto auto auto"},children:(0,i.jsx)(l.z,{centerText:!0,xs:12,children:(0,i.jsx)(m.Z,{fontWeight:500,color:"white",children:t})})})})}function v(e){var t,n,d,m;let{article:_,onSubscribe:f,onArticleCLick:v,onSubArticleClick:p}=e,j=(0,o.useMemo)(()=>_&&"large"==_.size&&!_.feature?12:8,[_]);return(0,i.jsx)(s.A,{If:!!_,children:(0,i.jsxs)(a.e,{spacing:2,centerX:!1,children:[(0,i.jsx)(l.z,{xs:12,children:(0,i.jsx)(c.c,{fontWeight:500,color:"white",level:4,children:(null==_?void 0:_.title)||""})}),(0,i.jsx)(l.z,{xs:12,sm:6,md:j,xl:j<12?9:12,className:h().sharedArticle__height,children:(0,i.jsx)(r.Z,{url:null===(t=_.image)||void 0===t?void 0:t.url,text:null==_?void 0:_.content,onClick:()=>null==v?void 0:v(_)})}),(0,i.jsx)(u.Z,{mdDown:!0,children:(0,i.jsx)(s.A,{If:!!(null==_?void 0:_.feature)&&"newsTeller"===_.feature.type,children:(0,i.jsx)(l.z,{xs:6,sm:4,xl:3,className:h().sharedArticle__height,children:(0,i.jsx)(g,{containerProps:{className:"u-overflow__auto"},text:(null==_?void 0:null===(n=_.feature)||void 0===n?void 0:n.content)||"",btnText:"Subscribe",onSubscribe:f})})})}),(0,i.jsx)(u.Z,{mdDown:!0,children:(0,i.jsx)(s.A,{If:!!(null==_?void 0:_.feature)&&"description"===_.feature.type,children:(0,i.jsx)(l.z,{xs:6,sm:4,xl:3,className:"".concat(h().sharedArticle__height," u-overflow__auto"),children:(0,i.jsx)(x,{text:(null==_?void 0:null===(d=_.feature)||void 0===d?void 0:d.content)||""})})})}),(0,i.jsx)(u.Z,{smDown:!0,children:(0,i.jsx)(s.A,{If:!!(null==_?void 0:_.subArticles)&&_.subArticles.length>0,children:null==_?void 0:null===(m=_.subArticles)||void 0===m?void 0:m.map(e=>{var t;return(0,i.jsx)(l.z,{xs:6,sm:6,md:4,xl:3,className:h().sharedArticle__height,children:(0,i.jsx)(r.Z,{url:null===(t=e.image)||void 0===t?void 0:t.url,text:e.content,onClick:()=>null==p?void 0:p(e)})},e.id)})})})]})})}var p=n(6066),j=n(7359),y=n.n(j);function S(){return(0,i.jsxs)("svg",{viewBox:"0 0 40 40",width:"20",height:"20",children:[(0,i.jsx)("circle",{cx:"20",cy:"20",r:"12",className:"".concat(y().outer," outer"),opacity:"1"}),(0,i.jsx)("circle",{cx:"20",cy:"20",r:"5.5",className:y().inner,opacity:"1"})]})}var A=n(7641);function I(e){let{image:t}=e;return(0,i.jsx)("div",{style:{width:"100vw",height:"100vh"},children:(0,i.jsx)(A.k,{type:"div",image:t})})}function C(e){let{images:t=[]}=e;return(0,i.jsx)("div",{style:{width:"auto",height:"calc(100vh - 64px)"},className:y().slider,children:(0,i.jsxs)("div",{style:{position:"absolute",width:"100vw",height:"100vh",maxWidth:"100%",top:0,left:0},children:[(0,i.jsx)("div",{className:"overlay"}),(0,i.jsx)(p.Z,{dots:!0,infinite:!0,speed:500,adaptiveHeight:!0,autoplaySpeed:1e4,arrows:!1,autoplay:!0,customPaging:S,children:t.map(e=>(0,i.jsx)(I,{image:e},e.dbPath))})]})})}function w(e){let{images:t,articles:n,onSubscribe:r,onArticleCLick:c,onSubArticleClick:o}=e;return(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)("div",{children:(0,i.jsx)(C,{images:t})}),(0,i.jsx)(a.e,{mt:0,mb:3,pt:0,children:(0,i.jsx)(l.z,{xs:12,children:(n||[]).map(e=>(0,i.jsx)(v,{article:e,onSubscribe:r,onArticleCLick:c,onSubArticleClick:o},e.id))})})]})}n(4640),n(9678);var b=n(3619),k=n(8328),E=n(5601),T=n(9071),N=n(8065),z=n(5911),R=n(1651),Z=n(2056),D=n(2372);(0,b.M)([k.T,E.p,N.x,R.Zt]);var P=!0,F=function(e){let{sliderImages:t,articles:n}=e,{state:r}=(0,z.C)({sliderImages:t,articles:n},[E.p,R.Zt]),{setFullWidth:a,resetMainViewMaxWidthToDefault:l}=(0,T.J)(),{openInternalLink:c,openExternalLink:s,isExternalLink:u}=(0,D.u)();(0,o.useEffect)(()=>(a(),()=>{l()}),[]);let d=(0,o.useMemo)(()=>(0,Z.a)(r.articles),[r.articles]);function h(e){if(u(e.link)){s(e.link);return}c(e.link)}async function m(e){console.log(e)}return(0,i.jsx)(w,{articles:d,images:r.sliderImages||[],onSubscribe:m,onSubArticleClick:h,onArticleCLick:h})}},2056:function(e,t,n){"use strict";function i(e){return e.reduce((e,t)=>{if(t.state){let n=t.subArticles?t.subArticles.filter(e=>e.state):void 0;e.push({...t,subArticles:n})}return e},[])}function r(e){return e.reduce((e,t)=>{var n;return e.push({id:t.id,content:t.content,state:t.state,link:t.link,image:null,imagePreviewUrl:null===(n=t.image)||void 0===n?void 0:n.url,oldFirebaseImage:t.image?{...t.image}:null}),e},[])}n.d(t,{T:function(){return r},a:function(){return i}})},5073:function(e){e.exports={SharedContentImage:"FirebaseImage_SharedContentImage__Gxk7s",SharedContentImage_container:"FirebaseImage_SharedContentImage_container__btcZs",SharedContentImage_fullSize:"FirebaseImage_SharedContentImage_fullSize__E9hJW",SharedContentImage_overlay:"FirebaseImage_SharedContentImage_overlay__WcyQK",SharedContentImage_text:"FirebaseImage_SharedContentImage_text__MYJ1j","SharedContentImage__image-zoom":"FirebaseImage_SharedContentImage__image-zoom__RnOrk","SharedContentImage__image-div":"FirebaseImage_SharedContentImage__image-div__TY_nL"}},5275:function(e){e.exports={sharedArticle__height:"SharedArticle_sharedArticle__height__m8h1d"}},7359:function(e){e.exports={slider:"SharedSlider_slider__oHPDC",outer:"SharedSlider_outer__Cbf13",inner:"SharedSlider_inner__wYZul",active:"SharedSlider_active__X4l2r",spinner:"SharedSlider_spinner__HGPhn"}}},function(e){e.O(0,[675,372,774,888,179],function(){return e(e.s=8312)}),_N_E=e.O()}]);