(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[792],{3900:function(e,n,t){(window.__NEXT_P=window.__NEXT_P||[]).push(["/admin/social-networks",function(){return t(3508)}])},4349:function(e,n,t){"use strict";t.d(n,{c:function(){return i}});var r=t(5893),l=t(5861);function i(e){let{level:n,text:t,children:i,color:a="text.primary",...u}=e;return(0,r.jsx)(l.Z,{variant:"h".concat(n),color:a,...u,children:i||t})}},5429:function(e,n,t){"use strict";t.d(n,{L:function(){return o}});var r=t(5893),l=t(7294),i=t(7690),a=t(7091),u=t(6886),s=t(8456);function c(){return(0,r.jsx)("div",{style:{width:"100%",height:"100%",display:"flex",flex:"auto",flexDirection:"column",justifyContent:"center"},children:(0,r.jsx)(u.ZP,{alignSelf:"center",item:!0,children:(0,r.jsx)(s.Z,{})})})}function o(e){let{children:n,validation:t=!0,grid:u=!0,isLoading:s,spacing:o=3,onSubmit:d}=e,f=(0,l.useRef)(null);return s?(0,r.jsx)(c,{}):(0,r.jsx)("form",{ref:f,onSubmit:function(e){e.preventDefault(),(!t||!f.current||f.current.checkValidity())&&(new FormData(e.currentTarget),null==d||d())},children:(0,r.jsx)(a.A,{RIf:u,Fallback:()=>(0,r.jsx)(r.Fragment,{children:n}),children:(0,r.jsx)(i.e,{style:{width:"100%"},centerX:!0,column:!0,spacing:o,mt:0,mb:5,children:n})})})}},6093:function(e,n,t){"use strict";t.d(n,{q:function(){return s}});var r=t(5893),l=t(3758),i=t(7294),a=t(1362);let u=i.forwardRef((e,n)=>(0,r.jsx)("div",{...e,ref:n})),s=e=>{let{children:n,label:t,...i}=e;return(0,r.jsx)(a.z,{centerText:!0,...i,children:(0,r.jsx)(l.Z,{fullWidth:!0,variant:"outlined",label:t,multiline:!0,InputLabelProps:{component:"span",shrink:!0},InputProps:{inputComponent:u},inputProps:{children:n}})})}},5911:function(e,n,t){"use strict";t.d(n,{C:function(){return i}});var r=t(7294);function l(e,n){switch(n.type){case"SET_DATA":return{...n.payload};case"UPDATE_DATA":return{...e,...n.payload};case"CLEAR":return{};case"ADD_TO_ARRAY":var t;let r=n.payload.key,l=null===(t=n.payload)||void 0===t?void 0:t.item,i=e[r];return{...e,[r]:[...i,l]};case"DELETE_ITEM_FROM_ARRAY":let a=n.payload.key,u=n.payload.idKey,s=n.payload.idValue,c=e[a].filter(e=>e[u]!==s);return{...e,[a]:c};default:return{...e}}}function i(e){let n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],[t,i]=(0,r.useReducer)(l,e),[a,u]=(0,r.useState)(!1);function s(e){i({type:"SET_DATA",payload:e})}return(0,r.useEffect)(()=>{async function e(){try{u(!0);let e=n.map(e=>e());await new Promise(e=>setInterval(e,4e3));let t=await Promise.all(e),r=t.reduce((e,n)=>({...e,...n}),{});s(r)}finally{u(!1)}}n&&n.length>0&&e()},[]),{state:t,initialLoading:a,setState:s,updateState:function(e){i({type:"UPDATE_DATA",payload:e})},clearState:function(){i({type:"CLEAR"})},addToArrayInState:function(e,n){i({type:"ADD_TO_ARRAY",payload:{key:e,item:n}})},deleteFromArrayInState:function(e,n,t){i({type:"DELETE_ITEM_FROM_ARRAY",payload:{key:e,idKey:n,idValue:t}})}}}},3508:function(e,n,t){"use strict";t.r(n),t.d(n,{__N_SSG:function(){return D},default:function(){return L}});var r=t(5893),l=t(8328),i=t(4349),a=t(5429),u=t(1362),s=t(6093),c=t(7294),o=t(6345),d=t(512),f=t(4054),x=t(476),h=t(5843),m=t(7690),p=t(7091);function g(e){let{label:n,value:t,children:l,onChange:i,...a}=e;return(0,r.jsx)(u.z,{xs:12,...a,children:(0,r.jsx)(f.Z,{fullWidth:!0,children:(0,r.jsxs)(m.e,{margin:0,centerX:!1,centerY:!0,spacing:0,children:[(0,r.jsx)(u.z,{xs:6,children:(0,r.jsx)(x.Z,{component:"legend",children:(0,r.jsx)(p.A,{RIf:!!l,Fallback:()=>(0,r.jsx)("span",{children:n}),children:l})})}),(0,r.jsx)(u.z,{xs:6,children:(0,r.jsx)(h.Z,{value:!0,checked:t,onChange:function(e,n){null==i||i(n)},color:"primary"})})]})})})}var j=t(2610),v=t(9713);function y(e){let{socialNetwork:n,value:t,className:l,onChange:i}=e;return(0,r.jsx)("div",{className:l,children:(0,r.jsx)(g,{value:t,onChange:e=>i(n,e),children:(0,r.jsxs)("div",{style:{marginLeft:"30%"},className:(0,d.Z)(["u-center--x","u-test-align-start"]),children:[(0,r.jsx)(j.Z,{className:"u-mr--3 dndHandle"}),(0,r.jsx)(v.x,{slug:n.slug,className:"u-mr--3"}),(0,r.jsx)("span",{children:n.name})]})})})}var _=t(9610);function b(e){let{socialNetwork:n,linkValue:t,onLinkChange:l}=e;return(0,r.jsx)(s.q,{label:(0,r.jsxs)("div",{className:"u-center--x",children:[(0,r.jsx)(v.x,{slug:n.slug,className:"u-mr--3"}),n.name]}),children:(0,r.jsx)(_.v,{style:{marginTop:"20px"},fullWidth:!0,label:"Link",value:null!=t?t:"",onChange:e=>l(n,e.target.value)})})}var A=t(4663),T=t(2087),E=t(413);function S(e){let{socialNetworks:n,initLoading:t,isSubmitLoading:l,onSubmit:d}=e,[f,x]=(0,c.useState)((0,T.F)((0,E.q)(n,"order"),"slug"));function h(e,n){x(t=>({...t,[e.slug]:{...t[e.slug],state:n}}))}function m(e,n){x(t=>({...t,[e.slug]:{...t[e.slug],link:n}}))}(0,c.useEffect)(()=>{x((0,T.F)(n,"slug"))},[n]);let p=(0,c.useMemo)(()=>(0,E.q)(Object.values(f),"order"),[f]),g=(0,c.useMemo)(()=>(0,E.q)(Object.values(f).filter(e=>e.state),"order"),[f]);return(0,r.jsxs)(a.L,{isLoading:t,spacing:3,onSubmit:function(){null==d||d(Object.values(f))},children:[(0,r.jsx)(u.z,{centerText:!0,children:(0,r.jsx)(i.c,{level:4,children:" Social Networks "})}),(0,r.jsx)(s.q,{label:"Toggle Social Networks",children:(0,r.jsx)(A.Z,{onDragEnd:function(e,n){x(t=>{let r=Object.values({...t}),[l]=r.splice(e,1);return r.splice(n,0,l),r.map((e,n)=>e.order=n+1),(0,T.F)(r,"slug")})},nodeSelector:"div.DragElement",handleSelector:".dndHandle",lineClassName:"DragLine",children:p.map(e=>{var n;return(0,r.jsx)(y,{className:"DragElement",socialNetwork:e,onChange:h,value:null===(n=f[e.slug])||void 0===n?void 0:n.state},e.id)})})}),g.map(e=>(0,r.jsx)(b,{socialNetwork:e,linkValue:f[e.slug].link,onLinkChange:m},e.id)),(0,r.jsx)(u.z,{children:(0,r.jsx)(o.g,{fullWidth:!0,btnType:"LoadingButton",loading:l,type:"submit",children:"Save"})})]})}var k=t(3619),w=t(5911),N=t(8065);(0,k.M)([l.T,N.x]);var D=!0,L=function(e){let{socialNetworks:n}=e,{initialLoading:t,state:i,updateState:a}=(0,w.C)({socialNetworks:n,isSubmitLoading:!1},[l.T,N.x]);async function u(e){try{a({isSubmitLoading:!0});let n=await (0,N.b)(e);a({socialNetworks:n})}finally{a({isSubmitLoading:!1})}}return(0,r.jsx)(S,{socialNetworks:i.socialNetworks,initLoading:t,isSubmitLoading:i.isSubmitLoading,onSubmit:u})}},2087:function(e,n,t){"use strict";function r(e,n){return Object.keys(n).reduce((e,t)=>({...e,[t]:n[t]}),{...e})}function l(e,n){return e.reduce((e,t)=>({...e,[t[n]]:t}),{})}t.d(n,{F:function(){return l},Z:function(){return r}})}},function(e){e.O(0,[712,774,888,179],function(){return e(e.s=3900)}),_N_E=e.O()}]);